import{u as m,r as i,j as e,L as p}from"./index-9gsVz5yT.js";import{a as d,l as g}from"./APIRoutes-0YhX2Giu.js";import{L as h,y as f}from"./index-CkmCRH51.js";function y(){const s=m(),[r,c]=i.useState({username:"",password:""}),u={position:"bottom-right",autoclose:8e3,draggable:!0};i.useEffect(()=>{JSON.parse(localStorage.getItem("current-chat-user"))?.username&&s("/")},[]);function n(t){c({...r,[t.target.name]:t.target.value})}async function l(t){t.preventDefault();try{const a=(await d.post(g,{...r})).data;a.status===!1?f.error(a.message,u):(localStorage.setItem("current-chat-user",JSON.stringify(a.user)),s("/"))}catch(o){console.error(o)}}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"auth-form-container",children:e.jsxs("form",{onSubmit:l,children:[e.jsx("h1",{children:"Login"}),e.jsx("input",{type:"text",placeholder:"Username",name:"username",onChange:n}),e.jsx("input",{type:"password",placeholder:"Password",name:"password",onChange:n}),e.jsx("button",{type:"Submit",children:"Sign in"}),e.jsxs("p",{children:["Don't have an account? ",e.jsx(p,{to:"/register",children:"Register here"})]})]})}),e.jsx(h,{})]})}export{y as default};
